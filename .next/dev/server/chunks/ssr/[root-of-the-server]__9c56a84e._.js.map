{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/dillonroberts/Documents/open_banking_api_003/lib/classify.ts"],"sourcesContent":["const gamblingRe = /(bet365|betfair|ladbrokes|william ?hill|sky ?bet|coral|paddy ?power|pokerstars|888|casino)/i;\n\nexport function isGambling(t: any) {\n  const mcc = t?.mcc ? String(t.mcc) : null;\n  const byMcc = mcc === '7995';\n  const byPfc = typeof t?.pfc === 'string' && /gambl/i.test(t.pfc);\n  const byCat = Array.isArray(t?.category) && t.category.some((c: string) => /gambl/i.test(c));\n  const byName = gamblingRe.test(String(t?.merchant_name || t?.name || ''));\n  return byMcc || byPfc || byCat || byName;\n}\n\n// Spend semantics per source: Plaid spend positive; CSV spend negative -> use abs(negatives)\nexport function spendValue(t: any): number {\n  const isCsv = t?._source === 'csv';\n  const amt = Number(t?.amount || 0);\n  if (isCsv) return amt < 0 ? Math.abs(amt) : 0;\n  return amt > 0 ? amt : 0;\n}\n\nexport function bucket(transactions: any[], granularity: 'year'|'month'|'week'|'day') {\n  const fmt = (d: Date) => {\n    const y = d.getUTCFullYear();\n    const m = String(d.getUTCMonth() + 1).padStart(2, '0');\n    const dd = String(d.getUTCDate()).padStart(2, '0');\n    if (granularity === 'year') return `${y}`;\n    if (granularity === 'month') return `${y}-${m}`;\n    if (granularity === 'week') {\n      const tmp = new Date(Date.UTC(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate()));\n      const day = (d.getUTCDay() + 6) % 7; // Monday=0\n      tmp.setUTCDate(d.getUTCDate() - day);\n      const wm = String(tmp.getUTCMonth() + 1).padStart(2, '0');\n      const wd = String(tmp.getUTCDate()).padStart(2, '0');\n      return `${tmp.getUTCFullYear()}-W${wm}-${wd}`;\n    }\n    return `${y}-${m}-${dd}`;\n  };\n\n  const out: Record<string, number> = {};\n  for (const t of transactions) {\n    if (!isGambling(t)) continue;\n    const dateStr = t?.date || (t?.datetime ? String(t.datetime).slice(0, 10) : null);\n    if (!dateStr) continue;\n    const date = new Date(`${dateStr}T00:00:00Z`);\n    const key = fmt(date);\n    const spend = spendValue(t);\n    out[key] = (out[key] || 0) + spend;\n  }\n  return out;\n}\n\nexport function totalSpend(transactions: any[]) {\n  return transactions.reduce((acc, t) => acc + (isGambling(t) ? spendValue(t) : 0), 0);\n}\n\nexport function topMerchants(transactions: any[], windowDays = 90) {\n  const now = new Date();\n  const cutoff = new Date(now);\n  cutoff.setUTCDate(now.getUTCDate() - windowDays);\n  const sums: Record<string, number> = {};\n  for (const t of transactions) {\n    if (!isGambling(t)) continue;\n    const dateStr = t?.date || (t?.datetime ? String(t.datetime).slice(0, 10) : null);\n    if (!dateStr) continue;\n    const dt = new Date(`${dateStr}T00:00:00Z`);\n    if (dt < cutoff) continue;\n    const merchant = String(t?.merchant_name || t?.name || 'Unknown');\n    sums[merchant] = (sums[merchant] || 0) + spendValue(t);\n  }\n  return Object.entries(sums)\n    .map(([merchant, amount]) => ({ merchant, amount }))\n    .sort((a, b) => b.amount - a.amount);\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/dillonroberts/Documents/open_banking_api_003/lib/insights.ts"],"sourcesContent":["import { isGambling, spendValue, topMerchants, bucket } from '@/lib/classify';\n\nexport function totalLost(transactions: any[]) {\n  return transactions.reduce((a, t) => a + (isGambling(t) ? spendValue(t) : 0), 0);\n}\n\nexport function biggestLosingWeek(transactions: any[]) {\n  const w = bucket(transactions, 'week');\n  let maxKey = '';\n  let maxVal = 0;\n  for (const [k, v] of Object.entries(w)) {\n    if (v > maxVal) { maxVal = Number(v); maxKey = k; }\n  }\n  return { week: maxKey, amount: maxVal };\n}\n\nexport function favouriteVenue(transactions: any[], windowDays = 365) {\n  const top = topMerchants(transactions, windowDays)[0];\n  return top ? top.merchant : '—';\n}\n\nexport function mostActiveTime(transactions: any[]) {\n  const counts: Record<number, number> = {};\n  for (const t of transactions) {\n    if (!isGambling(t)) continue;\n    const dtStr = t?.datetime || null;\n    if (!dtStr) continue;\n    const hour = new Date(dtStr).getUTCHours();\n    counts[hour] = (counts[hour] || 0) + 1;\n  }\n  const [hour, cnt] = Object.entries(counts).sort((a,b)=>Number(b[1])-Number(a[1]))[0] || [null, 0];\n  if (hour == null) return { label: '—', tagline: 'No time data' };\n  const h = Number(hour);\n  const ampm = h === 0 ? '12:00 AM' : h < 12 ? `${h}:00 AM` : h === 12 ? '12:00 PM' : `${h-12}:00 PM`;\n  const quips: Record<string,string> = {\n    night: 'Midnight Meltdown',\n    morning: 'Breakfast Bets',\n    afternoon: 'Afternoon Action',\n    evening: 'Prime-time Punt',\n  };\n  const slot = h < 6 ? 'night' : h < 12 ? 'morning' : h < 18 ? 'afternoon' : 'evening';\n  return { label: ampm, tagline: quips[slot], count: cnt };\n}\n\nexport function percentileRank(yourLoss: number) {\n  const pool = [200, 450, 680, 820, 1100, 1500, 2200, 3400, 4700, 6500, 9200, yourLoss].sort((a,b)=>a-b);\n  const rank = pool.indexOf(yourLoss) + 1;\n  return Math.round((rank / pool.length) * 100);\n}\n\nexport function realityCheck(loss: number) {\n  const tescoMealDeal = Math.floor(loss / 3.5);\n  const sp500Year = Math.round(loss * 1.15);\n  const loveIslandSeason = Math.max(1, Math.floor(loss / 500));\n  const vegasTicket = loss >= 450 ? 'A one-way ticket to Vegas (and lose more there)' : 'A domestic flight (to think about your choices)';\n  return {\n    invested: sp500Year,\n    meals: tescoMealDeal,\n    entertainment: loveIslandSeason,\n    travel: vegasTicket,\n  };\n}\n\nexport function leaderboardRows(transactions: any[], anon = true) {\n  const youName = anon ? 'You (Anonymous)' : 'You';\n  const youAmt = totalLost(transactions);\n  const MOCK = [\n    { name: 'Zac Saber', amount: 12491 },\n    { name: 'Daniil Bekirov', amount: 8672 },\n    { name: 'Andy Tyler', amount: 5034 },\n  ];\n  return [...MOCK, { name: youName, amount: youAmt }]\n    .sort((a,b)=>b.amount - a.amount)\n    .map((r,i)=>({ rank: i+1, ...r }));\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///Users/dillonroberts/Documents/open_banking_api_003/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport 'chart.js/auto';\nimport { bucket } from '@/lib/classify';\nimport {\n  totalLost as sumLoss, biggestLosingWeek, favouriteVenue,\n  percentileRank, realityCheck, leaderboardRows\n} from '@/lib/insights';\n\ntype Period = 'year' | 'month' | 'week' | 'day';\nconst gbp = new Intl.NumberFormat('en-GB', { style: 'currency', currency: 'GBP' });\nconst gbp0 = new Intl.NumberFormat('en-GB', { style: 'currency', currency: 'GBP', maximumFractionDigits: 0 });\nconst intFmt = new Intl.NumberFormat('en-GB');\nconst brand = '#ff1744';\n\nexport default function Dashboard() {\n  const [txns, setTxns] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [period, setPeriod] = useState<Period>('month');\n\n  useEffect(() => {\n    setLoading(true);\n    fetch('/api/transactions').then(r => r.json()).then(d => setTxns(d.transactions || [])).finally(() => setLoading(false));\n  }, []);\n\n  const totals = useMemo(() => bucket(txns, period), [txns, period]);\n  const labels = useMemo(() => Object.keys(totals).sort(), [totals]);\n  const dataVals = useMemo(() => labels.map(k => totals[k] || 0), [labels, totals]);\n\n  const loss = useMemo(() => sumLoss(txns), [txns]);\n  const weekMax = useMemo(() => biggestLosingWeek(txns), [txns]);\n  const fav = useMemo(() => favouriteVenue(txns), [txns]);\n  const pct = useMemo(() => percentileRank(loss), [loss]);\n  const rc = useMemo(() => realityCheck(loss), [loss]);\n  const rows = useMemo(() => leaderboardRows(txns, true).slice(0, 4), [txns]);\n  const cards = useMemo(() => [\n    {\n      key: 'invested',\n      content: (\n        <>\n          If you'd invested that in an S&SP500 ETF: <span className=\"font-semibold\">{gbp.format(rc.invested)}</span> today\n        </>\n      ),\n    },\n    {\n      key: 'meals',\n      content: (\n        <>\n          That's: <span className=\"font-semibold\">{intFmt.format(rc.meals)}</span> Tesco Meal Deals\n        </>\n      ),\n    },\n    {\n      key: 'entertainment',\n      content: (\n        <>\n          Equivalent to: Funding <span className=\"font-semibold\">{intFmt.format(rc.entertainment)}</span> Love Island season in bets\n        </>\n      ),\n    },\n    {\n      key: 'travel',\n      content: (\n        <>\n          Enough to buy: <span className=\"font-semibold\">{rc.travel}</span>\n        </>\n      ),\n    },\n  ], [rc]);\n  const [rcIdx, setRcIdx] = useState(0);\n  useEffect(() => {\n    const id = setInterval(() => setRcIdx(i => (i + 1) % cards.length), 4000);\n    return () => clearInterval(id);\n  }, [cards.length]);\n\n  const hasAnyGamblingThisView = dataVals.some(v => v > 0);\n\n  return (\n    <main className=\"p-8 max-w-5xl mx-auto text-center\">\n      <div className=\"mb-5\">\n        <h1 className=\"text-2xl font-semibold mb-3\">The Damage Report</h1>\n        <a href=\"/share\" className=\"inline-block px-3 py-2 rounded bg-[#ff1744] hover:bg-[#d5133a] text-white text-sm\">Share My Damage</a>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 mb-5\">\n        <div className=\"rounded-lg border border-white/10 bg-[#0f1115] p-4 text-center\">\n          <div className=\"text-xs text-gray-500 mb-2\">Total Lost</div>\n          <div className=\"text-2xl font-semibold text-[#ff1744]\">{gbp.format(loss)}</div>\n        </div>\n        <div className=\"rounded-lg border border-white/10 bg-[#0f1115] p-4 text-center\">\n          <div className=\"text-xs text-gray-500 mb-2\">Biggest Losing Week</div>\n          <div className=\"text-2xl font-semibold\">{gbp.format(weekMax.amount)}</div>\n        </div>\n        <div className=\"rounded-lg border border-white/10 bg-[#0f1115] p-4 text-center\">\n          <div className=\"text-xs text-gray-500 mb-2\">Favourite Venue</div>\n          <div className=\"text-2xl font-semibold\">{fav}</div>\n        </div>\n      </div>\n\n      <div className=\"rounded-lg border border-[#ff1744]/30 p-4 bg-gradient-to-br from-[#ff1744]/10 to-transparent mb-6\">\n        <span className=\"inline-flex items-center gap-2 text-[#ff1744] font-medium\">\n          You lost more than {pct}% of users\n        </span>\n        <span className=\"text-gray-600\"> (but you tried your best).</span>\n      </div>\n\n      <div className=\"mb-6 bg-[#0f1115] backdrop-blur rounded-lg border border-white/10 p-4 shadow-sm\">\n        <div className=\"mb-3 flex justify-center\">\n          <select\n            value={period}\n            onChange={e => setPeriod(e.target.value as Period)}\n            className=\"border border-white/10 bg-black/20 text-white px-2 py-1 rounded focus:outline-none focus:ring-2 focus:ring-[#ff1744]\"\n          >\n            <option value=\"year\">Year</option>\n            <option value=\"month\">Month</option>\n            <option value=\"week\">Week</option>\n            <option value=\"day\">Day</option>\n          </select>\n        </div>\n\n        {loading ? (\n          <div className=\"text-gray-500\">Loading…</div>\n        ) : !hasAnyGamblingThisView ? (\n          <div className=\"text-gray-600 border rounded p-4\">No gambling transactions detected for this period.</div>\n        ) : (\n          <Bar\n            data={{\n              labels,\n              datasets: [{ label: 'Gambling Spend', data: dataVals, backgroundColor: brand, borderColor: '#2745A8', borderWidth: 1 }],\n            }}\n            options={{\n              animation: false,\n              responsive: true,\n              plugins: {\n                tooltip: {\n                  callbacks: {\n                    label: (ctx) => {\n                      const v = Number(ctx.raw || 0);\n                      const quip = v > 200 ? ' (the house thanks you)' : v > 0 ? ' (could be worse)' : '';\n                      return `${gbp.format(v)}${quip}`;\n                    },\n                  },\n                },\n              },\n              scales: { y: { beginAtZero: true, ticks: { callback: (v) => gbp0.format(Number(v)) } } },\n            }}\n          />\n        )}\n      </div>\n\n      <section className=\"rounded-lg border border-white/10 bg-[#0f1115] p-6 mb-6\">\n        <h2 className=\"text-lg font-semibold mb-2\">Reality Check</h2>\n        <div className=\"text-xs text-gray-500 mb-4\">What you could have had instead</div>\n        <div className=\"relative max-w-3xl mx-auto\">\n          <div\n            key={cards[rcIdx].key}\n            className=\"p-6 rounded-2xl border border-[#ff1744]/40 bg-[radial-gradient(120%_120%_at_30%_10%,#2a0c10_0%,#101318_60%)] shadow-[0_0_40px_#ff174422]\"\n            style={{ animation: 'popIn 400ms ease' }}\n            onClick={() => setRcIdx((rcIdx + 1) % cards.length)}\n          >\n            <div className=\"text-base md:text-lg leading-relaxed\">\n              {cards[rcIdx].content}\n            </div>\n          </div>\n          <div className=\"mt-3 flex items-center justify-center gap-2\">\n            {cards.map((_, idx) => (\n              <span\n                key={idx}\n                className={`h-1.5 w-6 rounded-full ${idx === rcIdx ? 'bg-[#ff1744]' : 'bg-white/15'}`}\n              />\n            ))}\n          </div>\n          <div className=\"mt-2 text-xs text-gray-500\">Click card to skip</div>\n        </div>\n        <style>{`@keyframes popIn{0%{opacity:0;transform:translateY(6px) scale(.98)}100%{opacity:1;transform:translateY(0) scale(1)}}`}</style>\n      </section>\n\n      <section className=\"rounded-lg border border-white/10 bg-[#0f1115] p-4\">\n        <div className=\"mb-2\">\n          <h2 className=\"text-lg font-semibold\">Leaderboard of Shame</h2>\n          <div className=\"mt-1\"><a className=\"text-[#ff1744] text-sm hover:underline\" href=\"/leaderboard\">View full</a></div>\n        </div>\n        <div className=\"border border-white/10 rounded overflow-hidden shadow-sm\">\n          <table className=\"w-full text-sm\">\n            <thead className=\"bg-[#ff1744] text-white\">\n              <tr>\n                <th className=\"text-left px-3 py-2\">#</th>\n                <th className=\"text-left px-3 py-2\">Name</th>\n                <th className=\"text-right px-3 py-2\">Losses</th>\n              </tr>\n            </thead>\n            <tbody>\n              {rows.map(r => (\n                <tr key={r.rank} className={`border-t ${/You/.test(r.name) ? 'bg-[#ff1744]/10' : ''}`}>\n                  <td className=\"px-3 py-2\">{r.rank}</td>\n                  <td className=\"px-3 py-2\">{r.name}</td>\n                  <td className=\"px-3 py-2 text-right\">{gbp.format(r.amount)}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </section>\n    </main>\n  );\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}